<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Image Gallery</title>
  <style>
    #photos-container {
      display: flex;
      flex-wrap: wrap;
    }

    .photo {
      width: 150px;
      margin: 10px;
      text-align: center;
    }

    .photo img {
      width: 100%;
      height: auto;
      cursor: pointer;
    }

    .photo p {
      margin: 5px 0 0 0;
      font-size: 12px;
    }
  </style>
</head>
<body>
  <h1>Image Gallery</h1>
  <div id="photos-container"></div>
  <script>
    const photosContainer = document.getElementById('photos-container');

    // Fetch the list of image files in the root folder
    fetch('/images')
      .then(response => response.json())
      .then(imageFiles => {
        // Filter the list to include only PNG files
        const pngFiles = imageFiles.filter(file => file.toLowerCase().endsWith('.png'));

        // Create a new img element for each PNG file
        pngFiles.forEach(pngFile => {
          const img = document.createElement('img');
          img.src = pngFile;
          img.alt = pngFile;

          // Create a new a element to link to the PNG file
          const link = document.createElement('a');
          link.href = pngFile;
          link.target = '_blank';
          link.appendChild(img);

          // Create a new p element for the PNG file name
          const name = document.createElement('p');
          name.textContent = pngFile;

          // Create a new div element for the PNG file and add the a and p elements
          const photoDiv = document.createElement('div');
          photoDiv.classList.add('photo');
          photoDiv.appendChild(link);
          photoDiv.appendChild(name);

          // Add the photo div to the container
          photosContainer.appendChild(photoDiv);
        });
      })
      .catch(error => console.error(error));
  </script>
</body>
</html>
